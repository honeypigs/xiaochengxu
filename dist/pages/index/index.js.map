{"version":3,"sources":["pages/index/index.js"],"names":["indexOf","array","val","i","length","id","remove","index","splice","Page","data","blur","blur_detail","message","userName","time","title","content","detail","group","managerName","tip","endTime","historyMessage","changeItem","e","currentTarget","setData","showDetail","hide","delet","Message","HistoryMessage","push","finish","add","wx","showActionSheet","itemList","success","res","tapIndex","navigateTo","url","fail","console","log","errMsg","onLoad","onReady","onShow","onHide","onUnload","onPullDownRefresh"],"mappings":"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","file":"index.js","sourcesContent":["// 获取全局应用程序实例对象\n\nvar indexOf = function (array, val) {\n  for (var i = 0; i < array.length; i++) {\n    if (array[i].id == val) return i\n  }\n  return -1\n}\n\nvar remove = function (array, val) {\n  var index = indexOf(array, val)\n  if (index > -1) {\n    array.splice(index, 1)\n  }\n}\n\n// 创建页面实例对象\nPage({\n  /**\n   * 页面的初始数据\n   */\n  data: {\n    blur: true,\n    blur_detail: true,\n    message: [{\n      id: 0,\n      userName: 'test',\n      time: '9-12',\n      title: '标题',\n      content: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Perferendis, delectus. Vero commodi ab nihil ad ea, eos quidem provident recusandae! Explicabo ducimus aliquid reiciendis molestias assumenda pariatur sequi, in ipsa!'\n    },\n    {\n      id: 1,\n      userName: 'test',\n      time: '9-12',\n      title: '标题',\n      content: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Perferendis, delectus. Vero commodi ab nihil ad ea, eos quidem provident recusandae! Explicabo ducimus aliquid reiciendis molestias assumenda pariatur sequi, in ipsa!'\n    },\n    {\n      id: 2,\n      userName: 'test',\n      time: '9-12',\n      title: '标题',\n      content: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Perferendis, dele'\n    },\n    {\n      id: 3,\n      userName: 'test',\n      time: '9-12',\n      title: '标题',\n      content: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Perferendis, delectus. Vero commodi ab nihil ad ea, eos quidem provident recusandae! Explicabo ducimus aliquid reiciendis molestias assumenda pariatur sequi, in ipsa!'\n    },\n    {\n      id: 4,\n      userName: 'test',\n      time: '9-12',\n      title: '标题',\n      content: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Perferendis, delectus. Vero commodi ab nihil ad ea, eos quidem provident recusandae! Explicabo ducimus aliquid reiciendis molestias assumenda pariatur sequi, in ipsa!'\n    },\n    {\n      id: 5,\n      userName: 'test',\n      time: '9-12',\n      title: '标题',\n      content: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Perferendis, dele'\n    }],\n    detail: {\n      group: '群名',\n      managerName: '管理员名',\n      tip: '标签',\n      title: '标题',\n      endTime: '2017-1-27',\n      content: 'asdffffffffffffffffLorem ipsum dolor sit amet, consectetur adipisicing elit. Obcaecati quas, incidunt architecto optio quidem veniam repudiandae ipsum adipisci nihil nisi reprehenderit suscipit consectetur nam id, placeat ullam dolorum maiores, at.'\n    },\n    historyMessage: [{\n      userName: 'test',\n      time: '9-12',\n      title: '标题',\n      content: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Perferendis, delectus. Vero commodi ab nihil ad ea, eos quidem provident recusandae! Explicabo ducimus aliquid reiciendis molestias assumenda pariatur sequi, in ipsa!'\n    },\n    {\n      userName: 'test',\n      time: '9-12',\n      title: '标题',\n      content: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Perferendis, delectus. Vero commodi ab nihil ad ea, eos quidem provident recusandae! Explicabo ducimus aliquid reiciendis molestias assumenda pariatur sequi, in ipsa!'\n    },\n    {\n      userName: 'test',\n      time: '9-12',\n      title: '标题',\n      content: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Perferendis, dele'\n    }]\n  },\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  changeItem: function (e) {\n    if (e.currentTarget.id == 'history-item') {\n      this.setData({blur: false})\n    } else {\n      this.setData({blur: true})\n    }\n  },\n\n  showDetail: function (e) {\n    if (this.data.blur_detail) {\n      this.setData({blur_detail: false})\n    } else {\n      this.setData({blur_detail: true})\n    }\n  },\n\n  hide: function (e) {\n    this.setData({blur_detail: true})\n  },\n\n  delet: function (e) {\n    let Message = this.data.message\n    let HistoryMessage = this.data.historyMessage\n    let index = indexOf(Message, e.currentTarget.id)\n    HistoryMessage.push(Message[index])\n    remove(Message, e.currentTarget.id)\n    this.setData({message: Message})\n    this.setData({historyMessage: HistoryMessage})\n  },\n\n  finish: function (e) {\n    let Message = this.data.message\n    let HistoryMessage = this.data.historyMessage\n    let index = indexOf(Message, e.currentTarget.id)\n    HistoryMessage.push(Message[index])\n    remove(Message, e.currentTarget.id)\n    this.setData({message: Message})\n    this.setData({historyMessage: HistoryMessage})\n  },\n\n  add: function (e) {\n    wx.showActionSheet({\n      itemList: ['发消息', '创建群', '分享群'],\n      success: function (res) {\n        if (res.tapIndex === 0) {\n          wx.navigateTo({\n            url: '../sendMessage/sendMessage'\n          })\n        } else if (res.tapIndex === 1) {\n          wx.navigateTo({\n            url: '../creatGroup/creatGroup'\n          })\n        } else if (res.tapIndex === 2) {\n          wx.navigateTo({\n            url: '../shareGroup/shareGroup'\n          })\n        }\n      },\n      fail: function (res) {\n        console.log(res.errMsg)\n      }\n    })\n  },\n\n  onLoad () {\n  },\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady () {\n  },\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow () {\n  },\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide () {\n  },\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload () {\n  },\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh () {\n  }\n})\n"]}